<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>RECIPICK · 메인</title>

  <!-- 공용 토큰/컴포넌트 있으면 유지 -->
  <link rel="stylesheet" href="css/tokens.css" />
  <link rel="stylesheet" href="css/components.css" />

  <!-- 메인 전용 -->
  <link rel="stylesheet" href="css/main.css" />

  <script defer src="js/main.js"></script>
</head>
<body>
<main class="phone" role="main" aria-label="메인 화면">
  <!-- 상단 고정 헤더 -->
  <header class="top">
    <h1 class="logo">RECIPICK</h1>
    <button class="notif" aria-label="알림">
      <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 0 0-12 0v3.2c0 .5-.2 1-.6 1.4L4 17h5" />
        <path d="M10 21a2 2 0 0 0 4 0" />
      </svg>
    </button>
  </header>

  <!-- 검색 박스 -->
  <section class="search">
    <form class="search-row" action="search.html" method="get">
      <svg class="icon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#6b7280" stroke-width="2">
        <circle cx="11" cy="11" r="7"></circle><path d="M20 20l-3.5-3.5"></path>
      </svg>
      <input class="search-input" type="search" name="q" placeholder="레시피, 재료, 태그 검색" autocomplete="off" />
      <button class="filter" type="button" onclick="location.href='filter.html'">필터</button>
    </form>

    <!-- 카테고리 칩 -->
    <div class="chips" role="tablist" aria-label="빠른 카테고리">
      <button class="chip is-active">전체</button>
      <button class="chip">한식</button>
      <button class="chip">양식</button>
      <button class="chip">중식</button>
      <button class="chip">일식</button>
      <button class="chip">디저트</button>
    </div>
  </section>

  <!-- 섹션: 오늘의 추천 -->
  <!-- 섹션: 오늘의 추천 (캐러셀) -->
  <section class="section">
    <div class="sec-head">
      <h2>오늘의 추천</h2>
      <a class="more" href="search.html?sort=hot">더보기</a>
    </div>

    <div class="hero" id="hero">
      <div class="slides" id="slides" aria-live="polite">
        <!-- slide 1 -->
        <article class="slide">
          <div class="hero-thumb"></div>
          <div class="hero-meta">
            <div class="hero-title">새송이 버터간장볶음</div>
            <div class="hero-sub">⭐ 4.6 · 15분 · 쉬움</div>
          </div>
        </article>
        <!-- slide 2 -->
        <article class="slide">
          <div class="hero-thumb"></div>
          <div class="hero-meta">
            <div class="hero-title">토마토 바질 파스타</div>
            <div class="hero-sub">⭐ 4.7 · 20분 · 보통</div>
          </div>
        </article>
        <!-- slide 3 -->
        <article class="slide">
          <div class="hero-thumb"></div>
          <div class="hero-meta">
            <div class="hero-title">에어프라이어 감자</div>
            <div class="hero-sub">⭐ 4.5 · 25분 · 쉬움</div>
          </div>
        </article>
        <!-- slide 4 -->
        <article class="slide">
          <div class="hero-thumb"></div>
          <div class="hero-meta">
            <div class="hero-title">크림 리조또</div>
            <div class="hero-sub">⭐ 4.8 · 30분 · 보통</div>
          </div>
        </article>
        <!-- slide 5 -->
        <article class="slide">
          <div class="hero-thumb"></div>
          <div class="hero-meta">
            <div class="hero-title">두부 스테이크</div>
            <div class="hero-sub">⭐ 4.4 · 18분 · 쉬움</div>
          </div>
        </article>
      </div>

      <!-- dots -->
      <div class="dots" role="tablist" aria-label="추천 슬라이드">
        <button class="dot is-active" data-i="0" aria-label="1번"></button>
        <button class="dot" data-i="1" aria-label="2번"></button>
        <button class="dot" data-i="2" aria-label="3번"></button>
        <button class="dot" data-i="3" aria-label="4번"></button>
        <button class="dot" data-i="4" aria-label="5번"></button>
      </div>
    </div>
  </section>

  <!-- 섹션: 인기 레시피 -->
  <section class="section">
    <div class="sec-head">
      <h2>인기 레시피</h2>
      <div class="sort">
        <button class="pill is-active">인기</button>
        <button class="pill">최신</button>
        <button class="pill">별점</button>
      </div>
    </div>

    <!-- 그리드 카드 -->
    <div class="grid" id="grid">
      <a class="card" href="recipe-detail.html?id=550">
        <div class="thumb"></div>
        <div class="meta">
          <div class="title">간단 토스트</div>
          <div class="sub">❤️ 230 · 저장 120</div>
        </div>
      </a>

      <a class="card" href="recipe-detail.html?id=551">
        <div class="thumb"></div>
        <div class="meta">
          <div class="title">치킨 카레</div>
          <div class="sub">❤️ 180 · 저장 95</div>
        </div>
      </a>

      <a class="card" href="recipe-detail.html?id=552">
        <div class="thumb"></div>
        <div class="meta">
          <div class="title">크림 리조또</div>
          <div class="sub">❤️ 150 · 저장 80</div>
        </div>
      </a>

      <a class="card" href="recipe-detail.html?id=553">
        <div class="thumb"></div>
        <div class="meta">
          <div class="title">두부 스테이크</div>
          <div class="sub">❤️ 120 · 저장 70</div>
        </div>
      </a>
    </div>

    <!-- 더보기(무한 스크롤 자리) -->
    <button class="loadmore" id="loadMore" type="button">더 보기</button>
  </section>

  <!-- 하단 탭바 (하트 아이콘 고정 버전) -->
  <nav class="tabbar" aria-label="하단 탭바">
    <!-- 메뉴 -->
    <a class="tab" href="menu.html" aria-label="메뉴">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#6b7280" stroke-width="2">
        <path d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </a>

    <!-- 좋아요 (활성) -->
    <a class="tab is-active" href="liked.html" aria-label="좋아요">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="#2E7D32">
        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5
               2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09
               C13.09 3.81 14.76 3 16.5 3
               19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55
               11.54L12 21.35z"/>
      </svg>
    </a>

    <!-- 검색 (링 강조) -->
    <a class="tab" href="search.html" aria-label="검색">
      <div class="ring">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="#6b7280" stroke-width="2">
          <circle cx="11" cy="11" r="7"/>
          <path d="M20 20l-3.5-3.5"/>
        </svg>
      </div>
    </a>

    <!-- 추가 -->
    <a class="tab" href="post-upload.html" aria-label="추가">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#6b7280" stroke-width="2">
        <path d="M12 5v14M5 12h14"/>
      </svg>
    </a>

    <!-- 프로필 -->
    <a class="tab" href="profile.html" aria-label="프로필">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="#6b7280" stroke-width="2">
        <circle cx="12" cy="8" r="4"/>
        <path d="M4 20c2-4 14-4 16 0"/>
      </svg>
    </a>
  </nav>
</main>

<script>
  // 칩 토글
  document.querySelectorAll('.chip').forEach(ch => {
    ch.addEventListener('click', () => {
      document.querySelectorAll('.chip').forEach(x => x.classList.remove('is-active'));
      ch.classList.add('is-active');
      // TODO: 백 붙이면 이 자리에서 카테고리 검색 트리거
    });
  });

  // 정렬 토글(더미)
  document.querySelectorAll('.pill').forEach(p => {
    p.addEventListener('click', () => {
      document.querySelectorAll('.pill').forEach(x => x.classList.remove('is-active'));
      p.classList.add('is-active');
      // TODO: 정렬 변경 시 데이터 새로고침
    });
  });

  // 더보기(무한 스크롤 자리)
  document.getElementById('loadMore')?.addEventListener('click', () => {
    const grid = document.getElementById('grid');
    for(let i=0;i<4;i++){
      const a = document.createElement('a');
      a.className='card';
      a.href='recipe-detail.html';
      a.innerHTML = '<div class="thumb"></div><div class="meta"><div class="title">더 보기 아이템</div><div class="sub">❤️ 0 · 저장 0</div></div>';
      grid.appendChild(a);
    }
  });
</script>
</body>
</html>
